---
title: 设计模式之工厂模式
tags:
- Java
- 设计模式
---
**工厂模式**将实例化具体类的代码从应用中抽离，活着封装起来，使它们不会干扰应用的其他部分。
```java
abstract Product factoryMethod(String type);
```
- 工厂方法是抽象的，所以依赖子类来处理对象的创建。
- 工厂方法必须返回一个产品，超类中定义的方法，通常使用到工厂方法的返回值。
- 工厂方法将客户（也就是超类中的代码）和实际创建具体产品的代码分隔开来。

1. #### 要解决的问题
pizza店要制作各种各样的pizza

2. #### 未使用工厂模式前

```java
class PizzaStoreNormal {

    Pizza orderPizza(String type) {
        Pizza pizza;

        // 这段儿代码没有对修改封闭
        // 如果pizza种类变化，则需要修改此处
        if (type.equals("Chinese")) {
            pizza = new ChinesePizza();
        } else if (type.equals("Clam")) {
            pizza = new ClamPizza();
        } else {
            pizza = new ChinesePizza();
        }

        pizza.prepare();
        pizza.box();
        return pizza;
    }
}
```

**缺点：**
- 此处创建pizza类的代码没有对修改封闭
- 创建pizza类对代码无法被其他类复用


